{% extends 'base.html.twig' %}

{% block title %}{{ controller_name }}{% endblock %}

{% block body %}
<h2 class="mb-5 mt-5"> {{ controller_name }}</h2>
 {{ form_start(form) }}
    <p>
        {{ form_row(form.nom) }}
    </p>
    <p>
        {% for photo in figure.photoFigures %}
            
            <img class="m-3" style="max-height: 155px; max-width: 250px;" src="{{ asset('media/img/figures/' ~ photo.ImageUrl) }}">

        {% endfor %}

        {% for video in figure.videoFigures %}

            <iframe width="420" height="315" src="{{ video.urlVideo }}"></iframe> 

        {% endfor %}

        {{ form_row(form.image) }}

    </p>
    <p>
        <ul class="videoFigures" data-index="{{ form.videoFigures|length > 0 ? form.videoFigures|last.vars.name + 1 : 0 }}" data-prototype="{{ form_widget(form.videoFigures.vars.prototype)|e('html_attr') }}">
        </ul>
        {# <button type="button" class="add_item_link" data-collection-holder-class="videoFigures">Ajouter vid√©o</button>  #}

        {{ form_widget(form.videoFigures)}}
    </p>
    <p>
        {{ form_row(form.article) }}
    </p>
    <p>
        {{ form_row(form.submit) }}
    </p>
 {{ form_end(form) }}
{% endblock %}

{% block perso_javascripts %}
    <script type="module" src="{{ asset('js/VideoFigure/module.js') }}"></script>
    <script src="{{ asset('js/VideoFigure/videoFieldController.js') }}"></script>
    <script src="{{ asset('js/VideoFigure/add.js') }}"></script>

{% endblock %}
